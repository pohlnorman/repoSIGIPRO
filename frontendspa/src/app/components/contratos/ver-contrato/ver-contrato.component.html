<div class="container ">
    <h2 class="mt-3 mb-4 pb-2 border-bottom border-primary">Detalles del contrato</h2>
    <div class="row">
        <div class="col-lg-5">
            <h4>Información personal</h4>
            <div class="card bg-light">

                <div class="card-body">
                    <div class="row">
                        <div class="col-lg">
                            <p class="fw-bold mb-1">Nombre:</p>
                            <div><a routerLink="/ver-persona/{{contrato.personaId}}">{{ persona.nombre +" "+ persona.apellido }}</a></div>
                            <!-- <div>{{ contrato.persona.nombre +" "+ contrato.persona.apellido }}</div>
                            <button routerLink="/ver-persona/{{contrato.persona.id}}" type="button"
                                class="btn btn-warning btn-sm mt-2">Ver persona</button> -->
                        </div>
                        <div class="col-lg">
                            <p><span class="fw-bold">Rut:</span><br>
                                <span>{{persona.rut}}</span>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <div class="row mt-3">
        <div class="col-lg-5">
            <h4>Información del contrato</h4>
            <div class="card bg-light mt-3">
                <!-- <div class="card-header">Contrato</div> -->

                <div class="card-body">
                    <p class="mb-1"><span class="fw-bold">ID: </span>
                        <span>{{contrato.id}} </span>
                    </p>
                    <p class="mb-1"><span class="fw-bold">Fecha de inicio del contrato:</span><br>
                        <span>{{contrato.fechaInicio | date:"dd-MM-y"}} </span>
                    </p>
                    <p class="mb-1"><span class="fw-bold">Estado del contrato: </span>
                        @if (contrato.estado) {
                        <td class="text-success fw-bold">Vigente</td>
                        } @else {
                        <td>Terminado</td>
                        }
                    </p>
                </div>
            </div>
        </div>
        <div class="col-lg-5 offset-lg-2">
            <h4>Información del Finiquito</h4>
            <div class="card bg-light mt-3">
                <!-- <div class="card-header">Finiquito</div> -->

                <div class="card-body">
                    @if (contrato.estado) {
                    <p class="fw-bold">Finiquito no creado</p>
                    <button routerLink="/contrato/finiquito/{{contrato.id}}" type="button"
                        class="btn btn-danger btn-sm">Crear finiquito</button>
                    } @else {
                    <p><span class="fw-bold">Fecha de finiquito:</span><br>
                        <span>{{finiquito.fechaFiniquito| date:"dd-MM-y"}} </span>
                    </p>
                    }
                </div>
            </div>
        </div>
    </div>

    <div class="d-flex justify-content-between mt-4 mb-3">
        <h4>Anexos del contrato</h4>
        <div>
            @if (contrato.estado) {
            <button routerLink="/contrato/{{contrato.id}}/anexo/" type="button" class="btn btn-info">Crear
                anexo</button>
            }
        </div>
    </div>


    <table datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="table table-striped table-bordered">
        <thead>
            <tr>
                <th scope="col">Id</th>
                <th scope="col">Fecha del anexo</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let anexo of anexoList">
                <td>{{ anexo.id | number:"1.0" }}</td>
                <td>{{ anexo.fechaAnexo | date:"dd-MM-y" }}</td>
            </tr>
        </tbody>
    </table>

</div>
